# ğŸ° KeyLotto - à¹à¸­à¸›à¸•à¸£à¸§à¸ˆà¸«à¸§à¸¢à¸ªà¸²à¸¢à¸¡à¸¹

<div align="center">
  <img src="https://via.placeholder.com/200x200/FFD700/FF0000?text=KeyLotto" alt="KeyLotto Logo" width="200" />
  
  **à¹à¸­à¸›à¸•à¸£à¸§à¸ˆà¸«à¸§à¸¢à¸—à¸µà¹ˆà¸¡à¸²à¸à¸à¸§à¹ˆà¸²à¸à¸²à¸£à¸•à¸£à¸§à¸ˆ... à¸¡à¸²à¸à¸£à¹‰à¸­à¸¡à¸„à¸§à¸²à¸¡à¸®à¸²à¹à¸¥à¸°à¸à¸³à¸¥à¸±à¸‡à¹ƒà¸ˆ!**
  
  [![React Native](https://img.shields.io/badge/React_Native-0.76-61DAFB?logo=react)](https://reactnative.dev/)
  [![Expo](https://img.shields.io/badge/Expo-52-000020?logo=expo)](https://expo.dev/)
  [![Bun](https://img.shields.io/badge/Bun-1.0-000000?logo=bun)](https://bun.sh/)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.0-3178C6?logo=typescript)](https://www.typescriptlang.org/)
</div>

## ğŸ“– Overview

**KeyLotto (à¸«à¸§à¸¢à¸¡à¸µà¸„à¸µà¸¢à¹Œ)** à¸„à¸·à¸­à¹à¸­à¸›à¸à¸¥à¸´à¹€à¸„à¸Šà¸±à¸™à¸•à¸£à¸§à¸ˆà¸«à¸§à¸¢à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆà¹à¸„à¹ˆà¸šà¸­à¸à¸œà¸¥à¸§à¹ˆà¸²à¸–à¸¹à¸à¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¸–à¸¹à¸ à¹à¸•à¹ˆà¸¡à¸²à¸à¸£à¹‰à¸­à¸¡à¸à¸±à¸š:

- ğŸ¯ **à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¹€à¸‰à¸µà¸¢à¸”à¸£à¸²à¸‡à¸§à¸±à¸¥** - à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸§à¹ˆà¸²à¸„à¸¸à¸“à¹€à¸‰à¸µà¸¢à¸”à¸£à¸²à¸‡à¸§à¸±à¸¥à¹à¸„à¹ˆà¹„à¸«à¸™ (à¸ªà¸¥à¸±à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡, à¹€à¸¥à¸‚à¸à¸¥à¸±à¸š, à¸œà¸´à¸”à¹à¸„à¹ˆ 1-2 à¸•à¸±à¸§)
- ğŸ˜‚ **à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸®à¸²à¹† à¸à¸§à¸™à¹†** - à¸›à¸¥à¸­à¸šà¹ƒà¸ˆà¹€à¸¡à¸·à¹ˆà¸­à¹„à¸¡à¹ˆà¸–à¸¹à¸, à¸¢à¸´à¸™à¸”à¸µà¹€à¸¡à¸·à¹ˆà¸­à¸–à¸¹à¸à¸£à¸²à¸‡à¸§à¸±à¸¥
- ğŸ“¸ **à¸ªà¹à¸à¸™ QR Code & OCR** - à¸•à¸£à¸§à¸ˆà¸ˆà¸²à¸à¸ à¸²à¸à¸–à¹ˆà¸²à¸¢à¸«à¸£à¸·à¸­ QR Code à¸šà¸™à¹ƒà¸šà¸¥à¸­à¸•à¹€à¸•à¸­à¸£à¸µà¹ˆ
- ğŸ“Š **à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸•à¸£à¸§à¸ˆ** - à¹€à¸à¹‡à¸šà¸ªà¸–à¸´à¸•à¸´à¸§à¹ˆà¸²à¸„à¸¸à¸“à¹€à¸‰à¸µà¸¢à¸”à¸£à¸²à¸‡à¸§à¸±à¸¥à¸šà¹ˆà¸­à¸¢à¹à¸„à¹ˆà¹„à¸«à¸™
- ğŸ”® **à¸—à¸³à¸™à¸²à¸¢à¸à¸±à¸™** - à¸•à¸µà¸„à¸§à¸²à¸¡à¸à¸±à¸™à¹€à¸›à¹‡à¸™à¹€à¸¥à¸‚à¹€à¸”à¹‡à¸”
- ğŸ“° **à¸‚à¹ˆà¸²à¸§à¹€à¸¥à¸‚à¸”à¸±à¸‡** - à¸£à¸§à¸šà¸£à¸§à¸¡à¸‚à¹ˆà¸²à¸§à¹€à¸¥à¸‚à¹€à¸”à¹‡à¸”à¸ˆà¸²à¸à¸ªà¸³à¸™à¸±à¸à¸‚à¹ˆà¸²à¸§à¸Šà¸±à¹‰à¸™à¸™à¸³

## ğŸš€ Features

### Phase 1: Core Features âœ…
- âœ… à¸•à¸£à¸§à¸ˆà¸«à¸§à¸¢à¸”à¹‰à¸§à¸¢à¹€à¸¥à¸‚ 6 à¸«à¸¥à¸±à¸
- âœ… à¹€à¸¥à¸·à¸­à¸à¸‡à¸§à¸”à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸•à¸£à¸§à¸ˆ
- âœ… à¸£à¸°à¸šà¸šà¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¹€à¸‰à¸µà¸¢à¸”à¸£à¸²à¸‡à¸§à¸±à¸¥ (Near-miss Detection)
  - à¸ªà¸¥à¸±à¸šà¸•à¸³à¹à¸«à¸™à¹ˆà¸‡ (Swapped Positions)
  - à¹€à¸¥à¸‚à¸à¸¥à¸±à¸š (Reversed Number)
  - à¹€à¸¥à¸‚à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡ (Position Shift)
  - à¸œà¸´à¸”à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 2 à¸•à¸±à¸§ (Hamming Distance)
- âœ… à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¸­à¸šà¸à¸¥à¸±à¸šà¹à¸šà¸š Dynamic (à¸®à¸²/à¸à¸§à¸™/à¹ƒà¸«à¹‰à¸à¸³à¸¥à¸±à¸‡à¹ƒà¸ˆ)
- âœ… à¸šà¸±à¸™à¸—à¸¶à¸à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¸•à¸£à¸§à¸ˆ
- âœ… à¹à¸Šà¸£à¹Œà¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ

### Phase 2: Camera & Gallery ğŸš§
- âœ… à¸ªà¹à¸à¸™ QR Code à¸ˆà¸²à¸à¸à¸¥à¹‰à¸­à¸‡
- âœ… à¹€à¸¥à¸·à¸­à¸à¸£à¸¹à¸›à¸ˆà¸²à¸à¹à¸à¸¥à¹€à¸¥à¸­à¸£à¸µà¹ˆ
- ğŸš§ OCR à¸ˆà¸²à¸à¸ à¸²à¸à¸–à¹ˆà¸²à¸¢
- ğŸš§ à¹à¸Šà¸£à¹Œà¸£à¸¹à¸›à¸à¸£à¹‰à¸­à¸¡à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œ

### Phase 3: Extra Features ğŸ“…
- âœ… à¸‚à¹ˆà¸²à¸§à¹€à¸¥à¸‚à¹€à¸”à¹‡à¸”
- âœ… à¸—à¸³à¸™à¸²à¸¢à¸à¸±à¸™
- ğŸ“… à¸–à¹ˆà¸²à¸¢à¸—à¸­à¸”à¸ªà¸”à¸«à¸§à¸¢à¸­à¸­à¸
- ğŸ“… AI à¸ªà¸¸à¹ˆà¸¡à¹€à¸¥à¸‚à¸ˆà¸²à¸à¸£à¸¹à¸›à¹à¸œà¸‡à¸¥à¸­à¸•à¹€à¸•à¸­à¸£à¸µà¹ˆ
- ğŸ“… à¸£à¸°à¸šà¸šà¸ªà¸°à¸ªà¸¡à¹à¸•à¹‰à¸¡/à¸£à¸²à¸‡à¸§à¸±à¸¥

## ğŸ—ï¸ Tech Stack

### Frontend (Mobile App)
- **Framework:** React Native + Expo (SDK 52)
- **Navigation:** Expo Router (File-based routing)
- **State Management:** Zustand
- **Styling:** Tailwind CSS (twrnc)
- **UI Components:** Custom themed components
- **API Client:** Custom API_UTILS with retry logic
- **Icons:** @expo/vector-icons
- **Animations:** Lottie React Native

### Backend (API Server)
- **Runtime:** Bun
- **Framework:** Elysia.js
- **Database:** PostgreSQL
- **ORM:** Drizzle ORM
- **Authentication:** JWT
- **Web Scraping:** Cheerio
- **OCR Service:** Python (EasyOCR + OpenCV)
- **Push Notifications:** Expo Server SDK
- **Documentation:** Swagger (built-in)

### DevOps
- **Container:** Docker & Docker Compose
- **Environment:** Development & Production configs
- **CI/CD:** GitHub Actions (planned)

## ğŸ“ Project Structure

```
KeyLotto/
â”œâ”€â”€ frontend/                # React Native + Expo App
â”‚   â”œâ”€â”€ app/                # Expo Router screens
â”‚   â”‚   â”œâ”€â”€ (auth)/         # Authentication flow
â”‚   â”‚   â”œâ”€â”€ user/           # Main app screens
â”‚   â”‚   â”‚   â”œâ”€â”€ _layout.tsx # Tab navigation
â”‚   â”‚   â”‚   â”œâ”€â”€ lottery-check.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ scan.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ history.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ news.tsx
â”‚   â”‚   â”‚   â””â”€â”€ profile.tsx
â”‚   â”‚   â””â”€â”€ _layout.tsx
â”‚   â”œâ”€â”€ libs/               # Shared libraries
â”‚   â”‚   â”œâ”€â”€ components/     # Reusable components
â”‚   â”‚   â”œâ”€â”€ config/         # App configuration
â”‚   â”‚   â”œâ”€â”€ hooks/          # Custom hooks
â”‚   â”‚   â”œâ”€â”€ stores/         # Zustand stores
â”‚   â”‚   â””â”€â”€ utils/          # Utilities & API_UTILS
â”‚   â””â”€â”€ assets/             # Images, fonts, etc.
â”‚
â”œâ”€â”€ backend/                 # Bun + Elysia API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/         # API endpoints
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ lottery.ts
â”‚   â”‚   â”‚   â””â”€â”€ user.ts
â”‚   â”‚   â”œâ”€â”€ services/       # Business logic
â”‚   â”‚   â”‚   â”œâ”€â”€ LottoService.ts
â”‚   â”‚   â”‚   â””â”€â”€ OcrService.ts
â”‚   â”‚   â”œâ”€â”€ db/            # Database connection
â”‚   â”‚   â””â”€â”€ index.ts       # Main server
â”‚   â”œâ”€â”€ drizzle/           # Database schema
â”‚   â”œâ”€â”€ ocr-service/       # Python OCR service
â”‚   â””â”€â”€ public/            # Static files
â”‚
â””â”€â”€ docker-compose.yml      # Container orchestration
```

## ğŸ› ï¸ Installation

### Prerequisites
- Node.js 18+ or Bun 1.0+
- PostgreSQL 15+
- Python 3.9+ (for OCR service)
- Expo CLI
- iOS Simulator (Mac) or Android Emulator

### Backend Setup

```bash
# Navigate to backend
cd backend

# Install dependencies
bun install

# Setup environment variables
cp .env.example .env
# Edit .env with your database credentials

# Run database migrations
bun run db:migrate

# Seed initial data
bun run seed

# Start development server
bun run dev
```

Backend will run on:
- API: http://localhost:3000
- Swagger Docs: http://localhost:3001

### Frontend Setup

```bash
# Navigate to frontend
cd frontend

# Install dependencies
npm install

# Setup environment variables
cp .env.example .env
# Edit .env with your API URL

# For iOS (Mac only)
cd ios && pod install && cd ..

# Start Expo
npx expo start

# Run on iOS
npx expo run:ios

# Run on Android
npx expo run:android
```

### Docker Setup (Optional)

```bash
# Start all services
docker-compose up -d

# View logs
docker-compose logs -f
```

## ğŸ”‘ Environment Variables

### Backend (.env)
```env
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/keylotto

# JWT
JWT_SECRET=your-secret-key

# OCR Service
OCR_SERVICE_URL=http://localhost:8000

# Ports
API_PORT=3000
DOCS_PORT=3001
```

### Frontend (.env)
```env
# API Configuration
EXPO_PUBLIC_API_URL=http://localhost:3000
EXPO_PUBLIC_API_VERSION=v1

# Features Toggle
EXPO_PUBLIC_ENABLE_OCR=true
EXPO_PUBLIC_ENABLE_PUSH=true
```

## ğŸ“± Screenshots

<div align="center">
  <img src="https://via.placeholder.com/250x500/FFD700/FF0000?text=Home" alt="Home" width="200" />
  <img src="https://via.placeholder.com/250x500/FFD700/FF0000?text=Check" alt="Check" width="200" />
  <img src="https://via.placeholder.com/250x500/FFD700/FF0000?text=Result" alt="Result" width="200" />
  <img src="https://via.placeholder.com/250x500/FFD700/FF0000?text=History" alt="History" width="200" />
</div>

## ğŸ¨ Design System

### Theme: "à¸ªà¸²à¸¢à¸¡à¸¹" (Mystical Lucky)
- **Primary Colors:** Gold (#FFD700), Red (#DC2626)
- **Typography:** Kanit (Thai), Aboreto (Display)
- **Components:** Glass morphism, Gradients, Animations
- **Icons:** Lucky symbols (ğŸ°ğŸ”®â­ï¸ğŸ€)

## ğŸ”„ API Endpoints

### Authentication
- `POST /api/auth/register` - Register new user
- `POST /api/auth/login` - Login
- `POST /api/auth/refresh` - Refresh token
- `POST /api/auth/logout` - Logout

### Lottery
- `GET /api/lottery/results` - Get lottery results
- `POST /api/lottery/check` - Check lottery number
- `POST /api/lottery/scan` - Scan QR/Image
- `GET /api/lottery/history` - Get check history
- `GET /api/lottery/news` - Get lottery news
- `POST /api/lottery/dream` - Dream interpretation

### User
- `GET /api/user/profile` - Get profile
- `PUT /api/user/profile` - Update profile
- `GET /api/user/stats` - Get statistics
- `PUT /api/user/settings` - Update settings

## ğŸ§ª Testing

```bash
# Backend tests
cd backend
bun test

# Frontend tests
cd frontend
npm test

# E2E tests
npm run test:e2e
```

## ğŸ“ˆ Performance

- **API Response Time:** < 200ms average
- **App Launch Time:** < 2 seconds
- **OCR Processing:** < 3 seconds
- **Database Queries:** Optimized with indexes
- **Caching:** Redis for frequently accessed data

## ğŸ” Security

- JWT Authentication with refresh tokens
- Rate limiting on API endpoints
- Input validation and sanitization
- SQL injection prevention (Parameterized queries)
- XSS protection
- HTTPS enforcement in production
- Secure storage for sensitive data

## ğŸš¢ Deployment

### Backend Deployment
- **Platform:** Railway / Render / AWS
- **Database:** Supabase / Neon / AWS RDS
- **OCR Service:** Docker container

### Mobile App Deployment
- **iOS:** App Store via EAS Build
- **Android:** Google Play via EAS Build
- **OTA Updates:** Expo Updates

## ğŸ‘¥ Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Open Pull Request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- Lottery data from [GLO (à¸à¸­à¸‡à¸ªà¸¥à¸²à¸à¸¯)](https://www.glo.or.th/)
- Web scraping from Sanook.com
- Thai fonts from Google Fonts
- Icons from Expo Vector Icons

## ğŸ“ Contact

- **Developer:** Your Name
- **Email:** your.email@example.com
- **GitHub:** [@yourusername](https://github.com/yourusername)

## ğŸ—ºï¸ Roadmap

- [x] Phase 1: Core lottery checking
- [x] Phase 2: QR/Camera scanning
- [ ] Phase 3: Social features
- [ ] Phase 4: AI predictions
- [ ] Phase 5: Gamification
- [ ] Phase 6: Multi-language support

---

<div align="center">
  Made with â¤ï¸ and ğŸ€ for Thai lottery players
  
  **"à¹€à¸‰à¸µà¸¢à¸”à¹à¸¥à¹‰à¸§à¹€à¸‰à¸µà¸¢à¸”à¸­à¸µà¸... à¸§à¸±à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¸•à¹‰à¸­à¸‡à¸–à¸¹à¸!"** 
</div>